{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Button/Button.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Container/Container.module.scss","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","images/cat.jpg","components/ImageGallery/ImageGallery.js","api/fetch.js","components/Container/Container.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Searchbar","state","value","getValue","event","setState","target","onSubmitHandler","preventDefault","props","this","window","scrollTo","top","document","documentElement","scrollHeight","behavior","className","s","SearchForm","onSubmit","SearchFormInput","type","onChange","autoComplete","autoFocus","placeholder","SearchFormButton","SearchFormButtonLabel","Component","ImageGalleryItem","smallImg","bigImg","tags","src","alt","data-big","ImageGalleryItemImage","onClick","Button","onPageChange","ImageGallery","images","error","status","page","prevState","imageClickHandler","dataset","getContentForModal","big","prevProps","prevQuery","query","currentQuery","queryString","fetch","join","then","res","ok","json","Promise","reject","Error","mainFetch","data","hits","catch","length","image","width","map","id","webformatURL","largeImageURL","color","height","Container","wrapper","children","modal","querySelector","Modal","imageStatus","toggleModal","code","onClose","handleBackdropClick","currentTarget","addEventListener","removeEventListener","createPortal","Overlay","onLoad","handleImageLoaded","bind","App","showModal","bigImage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.900ea549.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3gP5Y\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2nRDd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__15AyM\",\"Modal\":\"Modal_Modal__39S7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3AN3l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3gTEt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Container_wrapper__1DpfW\"};","import { Component } from 'react';\n\nimport s from './Searchbar.module.scss';\n\nclass Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  getValue = event => {\n    this.setState({\n      value: event.target.value,\n    });\n  };\n\n  onSubmitHandler = event => {\n    event.preventDefault();\n    this.props.onSubmitHandler(this.state.value);\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.onSubmitHandler}>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            onChange={this.getValue}\n            value={value}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.scss';\nexport default function ImageGalleryItem(props) {\n  const { smallImg, bigImg, tags } = props;\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={smallImg}\n        alt={tags}\n        data-big={bigImg}\n        className={s.ImageGalleryItemImage}\n        onClick={props.onClick}\n      />\n    </li>\n  );\n}\n","import s from './Button.module.scss';\n\nexport default function Button(props) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={props.onPageChange}>\n      Load more\n    </button>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/cat.c79bab9c.jpg\";","import { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button';\nimport Loader from 'react-loader-spinner';\nimport image from '../../images/cat.jpg';\nimport s from './ImageGallery.module.scss';\nimport mainFetch from '../../api/fetch';\nclass ImageGallery extends Component {\n  state = {\n    images: null || [],\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const currentQuery = this.props.query;\n\n    const page = this.state.page;\n\n    if (prevQuery !== currentQuery) {\n      this.setState({\n        images: [],\n      });\n    }\n\n    if (prevQuery !== currentQuery || prevState.page !== this.state.page) {\n      // проверка чтоб не зациклило\n\n      this.setState({ status: 'pending' });\n\n      mainFetch(currentQuery, page)\n        .then(data =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...data.hits],\n            status: 'resolved',\n          })),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onPageChange = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  imageClickHandler = event => {\n    const { dataset, alt } = event.target;\n    this.props.getContentForModal(dataset.big, alt);\n  };\n\n  render() {\n    const { images, status } = this.state;\n\n    if (images.length === 0 && status === 'resolved') {\n      return (\n        <>\n          <h1>По Вашему запросу ничего не найдено</h1>\n          <p>Не огочайтесь. Вот Вам котик =)</p>\n          <img src={image} alt=\"cat\" width=\"500\" />\n        </>\n      );\n    }\n    if (status === 'resolved' || status === 'pending') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n              <ImageGalleryItem\n                key={id}\n                smallImg={webformatURL}\n                bigImg={largeImageURL}\n                tags={tags}\n                onClick={this.imageClickHandler}\n              />\n            ))}\n          </ul>\n          {status === 'pending' ? (\n            <Loader\n              type=\"RevolvingDot\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n            />\n          ) : (\n            <Button onPageChange={this.onPageChange} />\n          )}\n        </>\n      );\n    }\n    if (status === 'idle') {\n      return <h1>Давай искать картинки =)</h1>;\n    }\n    if (status === 'rejected') {\n      return <h1>Oh no =(</h1>;\n    }\n  }\n}\nexport default ImageGallery;\n","const API_KEY = '18591857-af67bc0007236afb4a9ddb74e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default function mainFetch(query, page) {\n  const queryString = [\n    `q=${query}`,\n    `page=${page}`,\n    `key=${API_KEY}`,\n    `image_type=photo`,\n    `orientation=horizontal`,\n    `per_page=12`,\n  ];\n\n  return fetch(`${BASE_URL}?${queryString.join('&')}`).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Нет таких картинок ${query}`));\n  });\n}\n","import s from './Container.module.scss';\nexport default function Container(props) {\n  return <div className={s.wrapper}>{props.children}</div>;\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport Loader from 'react-loader-spinner';\nimport s from './Modal.module.scss';\n\nconst modal = document.querySelector('#modal');\n\nclass Modal extends Component {\n  state = {\n    imageStatus: 'loading',\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.toggleModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.toggleModal);\n  }\n\n  toggleModal = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  handleImageLoaded() {\n    this.setState({ imageStatus: 'loaded' });\n  }\n\n  render() {\n    const { src, alt } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={src} alt={alt} onLoad={this.handleImageLoaded.bind(this)} />\n          {this.state.imageStatus === 'loading' ? (\n            <Loader\n              type=\"RevolvingDot\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n            />\n          ) : null}\n        </div>\n      </div>,\n      modal,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Container from './components/Container/Container';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    query: '',\n    showModal: false,\n    bigImage: null,\n    alt: null,\n  };\n\n  onSubmitHandler = query => {\n    this.setState({\n      query,\n    });\n  };\n\n  getContentForModal = (bigImage, alt) => {\n    this.setState({\n      bigImage,\n      alt,\n      showModal: true,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const { query, showModal, bigImage, alt } = this.state;\n    return (\n      <Container>\n        <Searchbar onSubmitHandler={this.onSubmitHandler} />\n        <ImageGallery\n          query={query}\n          getContentForModal={this.getContentForModal}\n        />\n        {showModal && (\n          <Modal src={bigImage} alt={alt} onClose={this.toggleModal} />\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n\n//https://github.com/goitacademy/react-homework/tree/master/homework-03/image-finder\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__29I8L\",\"SearchForm\":\"Searchbar_SearchForm__138-M\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2FKXY\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1K3vT\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1DsAl\"};"],"sourceRoot":""}